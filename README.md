# BDD
This is the solution to the fourth homework in Software Engineering course. 

### گزارش پروژه ماشین‌حساب BDD

این پروژه یک ماشین‌حساب ساده را با استفاده از توسعه رفتارمحور (BDD) پیاده‌سازی می‌کند که از ابزارهای Cucumber و Gherkin در جاوا استفاده می‌کند. این پروژه عملیات‌های پایه ریاضی (جمع، تفریق، ضرب، تقسیم و باقی‌مانده) را پشتیبانی می‌کند و شامل تست‌هایی برای بررسی دقت اعشاری، اعداد منفی، اعداد بزرگ و مدیریت خطاها است.

---

### ساختار پروژه
```
calculator/
├── pom.xml
├── src/
│   ├── main/
│   │   └── java/
│   │       └── org/example/Calculator.java
│   └── test/
│       ├── java/
│       │   ├── org/example/CalculatorStepDefs.java
│       │   └── org/example/CalculatorTestRunner.java
│       └── resources/
│           ├── calculator.feature
│           └── advanced_calculator.feature
```

#### توضیح فایل‌ها
1. **pom.xml**:
   - فایل تنظیمات Maven برای مدیریت وابستگی‌ها و ساخت پروژه.
   - شامل وابستگی‌های Cucumber، JUnit و پلاگین‌های Maven برای کامپایل و اجرای تست‌ها.
   - تنظیمات جاوا 11 و رمزگذاری UTF-8.

2. **Calculator.java**:
   - کلاس اصلی در بسته `org.example` که منطق ماشین‌حساب را پیاده‌سازی می‌کند.
   - متد `calculate` عملیات‌های جمع، تفریق، ضرب، تقسیم و باقی‌مانده را بر اساس عملگر ورودی انجام می‌دهد.
   - خطاهایی مانند تقسیم بر صفر یا عملگر نامعتبر را مدیریت می‌کند.

3. **calculator.feature**:
   - فایل Gherkin که سناریوهای تست پایه را تعریف می‌کند.
   - شامل تست‌هایی برای عملیات‌های پایه، تقسیم بر صفر، عملگرهای نامعتبر و باقی‌مانده.
   - از ساختارهایی مانند `Scenario` و `Scenario Outline` برای تعریف تست‌ها استفاده می‌کند.

4. **advanced_calculator.feature**:
   - فایل Gherkin برای تست‌های پیشرفته‌تر.
   - شامل سناریوهایی برای دقت اعشاری، اعداد منفی، اعداد بزرگ و اعداد بسیار کوچک.

5. **CalculatorStepDefs.java**:
   - فایل تعریف گام‌ها که سناریوهای Gherkin را به کد جاوا متصل می‌کند.
   - شامل متدهایی برای مقداردهی اولیه ماشین‌حساب، اجرای عملیات‌ها و بررسی نتایج یا پیام‌های خطا.

6. **CalculatorTestRunner.java**:
   - فایل اجرایی تست‌های Cucumber.
   - تنظیمات Cucumber مانند مسیر فایل‌های ویژگی (`features`) و افزونه‌های گزارش‌دهی (HTML، JSON) را مشخص می‌کند.

---

### نحوه عملکرد فایل‌ها
1. **ساخت پروژه**:
   - فایل `pom.xml` وابستگی‌ها را بارگذاری کرده و پروژه را با استفاده از Maven کامپایل می‌کند (`mvn compile`).

2. **اجرای تست‌ها**:
   - `CalculatorTestRunner.java` تست‌های تعریف‌شده در فایل‌های `.feature` را با استفاده از Cucumber اجرا می‌کند.
   - فایل‌های Gherkin (`calculator.feature` و `advanced_calculator.feature`) سناریوهای تست را تعریف می‌کنند.
   - `CalculatorStepDefs.java` هر گام Gherkin را به متدهای جاوا متصل کرده و از `Calculator.java` برای انجام محاسبات استفاده می‌کند.

3. **گزارش‌دهی**:
   - گزارش‌های تست در قالب HTML و JSON در پوشه `target/cucumber-reports` تولید می‌شوند.

4. **مدیریت خطاها**:
   - `Calculator.java` خطاهایی مانند تقسیم بر صفر یا عملگر نامعتبر را با پرتاب استثنا مدیریت می‌کند.
   - `CalculatorStepDefs.java` این خطاها را گرفته و با سناریوهای Gherkin مقایسه می‌کند.

---

### توضیح BDD، Gherkin و Cucumber

1. **BDD (توسعه رفتارمحور)**:
   - رویکردی در توسعه نرم‌افزار که بر تعریف رفتار سیستم از دیدگاه کاربران تمرکز دارد.
   - تست‌ها به زبان ساده و قابل‌فهم برای همه (توسعه‌دهندگان، تست‌کنندگان، ذینفعان) نوشته می‌شوند.
   - هدف: بهبود همکاری بین تیم‌ها و اطمینان از انطباق نرم‌افزار با نیازهای کاربر.

2. **Gherkin**:
   - زبانی ساختاریافته و ساده برای نوشتن سناریوهای تست در BDD.
   - از کلمات کلیدی مانند `Feature`، `Scenario`، `Given`، `When`، `Then` استفاده می‌کند.
   - سناریوها به‌صورت خوانا و قابل‌فهم برای غیرفناوران نوشته می‌شوند.

3. **Cucumber**:
   - ابزاری برای اجرای سناریوهای Gherkin.
   - سناریوهای Gherkin را به کد اجرایی (مانند جاوا) متصل می‌کند.
   - امکان تولید گزارش‌های تست و ادغام با ابزارهایی مانند JUnit و Maven را فراهم می‌کند.

---

### نحوه اجرای پروژه
1. پروژه را در IntelliJ IDEA باز کنید.
2. فایل `pom.xml` را همگام‌سازی کنید تا وابستگی‌ها بارگذاری شوند.
3. دستورات زیر را اجرا کنید:
   - `mvn compile`: برای کامپایل پروژه.
   - `mvn test`: برای اجرای همه تست‌ها.
   - `mvn test -Dtest=CalculatorTestRunner`: برای اجرای تست‌های Cucumber.
4. گزارش‌ها را در `target/cucumber-reports` بررسی کنید.

---

### نتیجه‌گیری
این پروژه یک ماشین‌حساب ساده با تست‌های جامع BDD ارائه می‌دهد که عملیات‌های ریاضی پایه و پیشرفته را پوشش می‌دهد. استفاده از Cucumber و Gherkin امکان نوشتن تست‌های خوانا و قابل‌نگهداری را فراهم کرده و گزارش‌های تولیدشده به تحلیل نتایج کمک می‌کنند. پروژه به‌گونه‌ای طراحی شده که به‌راحتی قابل‌گسترش برای عملیات‌های جدید یا سناریوهای تست اضافی است.
